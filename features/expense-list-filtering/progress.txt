---
Story: ELF-001 Add userId filter to GET /api/expenses
Files changed: src/app/api/expenses/route.ts, src/lib/validations/expense.ts
Notes: Added optional userId query parameter to expenses API. When provided, filters by that user; otherwise returns all users (team view). Added user include to return id and name with each expense.
---
---
Story: ELF-002 Create GET /api/users endpoint
Files changed: src/app/api/users/route.ts
Notes: Created users API endpoint that returns id, name, email for all users ordered alphabetically. Requires authentication, returns 401 if not logged in.
---
---
Story: ELF-003 Create unit tests for users API
Files changed: tests/unit/api/users.test.ts
Notes: Created 4 unit tests covering 401 on unauthenticated, correct fields returned, proper Prisma query, and empty array handling. All 54 tests pass.
---
---
Story: ELF-004 Create PersonFilter component
Files changed: src/components/expenses/filters/person-filter.tsx
Notes: Created dropdown filter component using shadcn Select. Fetches users on mount with loading skeleton state. Shows "All Members" as default, user names in options.
---
---
Story: ELF-005 Create DateRangeFilter component
Files changed: src/components/expenses/filters/date-range-filter.tsx
Notes: Created date range filter with 5 presets (Today, This Week, This Month, Last Month, This Year). Includes custom date range picker with dual calendars. Active preset is highlighted. Clear button to reset filter.
---
---
Story: ELF-006 Create CategoryFilter component
Files changed: src/components/expenses/filters/category-filter.tsx
Notes: Created category dropdown using shadcn Select. Shows "All Categories" as default with category icons and labels for each option. Uses CATEGORIES constant.
---
---
Story: ELF-007 Create ExpenseFilters bar component
Files changed: src/components/expenses/expense-filters.tsx
Notes: Created container component combining PersonFilter, DateRangeFilter, CategoryFilter. Horizontal on desktop (lg:flex-row), stacked on mobile. Shows active filter count badge and Clear All button when filters active.
---
